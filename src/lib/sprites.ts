import type { GhostState } from './types'

export type SpriteFrame = number[][]

export const GHOST_SPRITES: Record<GhostState, SpriteFrame[]> = {
  idle: [
    // Frame 0: neutral face, tentacles position A
    [
      [0,0,0,0,0,1,1,1,1,1,1,0,0,0,0,0],
      [0,0,0,1,1,2,2,2,2,2,2,1,1,0,0,0],
      [0,0,1,2,2,2,2,2,2,2,2,2,2,1,0,0],
      [0,1,2,2,2,2,2,2,2,2,2,2,2,2,1,0],
      [0,1,2,5,2,2,2,2,2,2,5,2,2,2,1,0],
      [1,2,2,3,3,2,2,2,2,3,3,2,2,2,2,1],
      [1,2,2,3,3,2,2,2,2,3,3,2,2,2,2,1],
      [1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1],
      [1,2,2,2,2,2,4,4,2,2,2,2,2,2,2,1],
      [1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1],
      [1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1],
      [1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1],
      [1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1],
      [1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1],
      [1,2,2,1,0,1,2,2,1,0,1,2,2,1,0,1],
      [0,1,1,0,0,0,1,1,0,0,0,1,1,0,0,0],
    ],
    // Frame 1: neutral face, tentacles position B
    [
      [0,0,0,0,0,1,1,1,1,1,1,0,0,0,0,0],
      [0,0,0,1,1,2,2,2,2,2,2,1,1,0,0,0],
      [0,0,1,2,2,2,2,2,2,2,2,2,2,1,0,0],
      [0,1,2,2,2,2,2,2,2,2,2,2,2,2,1,0],
      [0,1,2,5,2,2,2,2,2,2,5,2,2,2,1,0],
      [1,2,2,3,3,2,2,2,2,3,3,2,2,2,2,1],
      [1,2,2,3,3,2,2,2,2,3,3,2,2,2,2,1],
      [1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1],
      [1,2,2,2,2,2,4,4,2,2,2,2,2,2,2,1],
      [1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1],
      [1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1],
      [1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1],
      [1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1],
      [1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1],
      [1,0,1,2,2,1,0,1,2,2,1,0,1,2,2,1],
      [0,0,0,1,1,0,0,0,1,1,0,0,0,1,1,0],
    ],
  ],
  active: [
    // Frame 0: happy face (arched eyes, smile)
    [
      [0,0,0,0,0,1,1,1,1,1,1,0,0,0,0,0],
      [0,0,0,1,1,2,2,2,2,2,2,1,1,0,0,0],
      [0,0,1,2,2,2,2,2,2,2,2,2,2,1,0,0],
      [0,1,2,2,2,2,2,2,2,2,2,2,2,2,1,0],
      [0,1,2,5,5,2,2,2,2,5,5,2,2,2,1,0],
      [1,2,2,2,3,3,2,2,2,2,3,3,2,2,2,1],
      [1,2,2,3,2,2,2,2,2,3,2,2,2,2,2,1],
      [1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1],
      [1,2,2,2,2,4,2,2,2,4,2,2,2,2,2,1],
      [1,2,2,2,2,2,4,4,4,2,2,2,2,2,2,1],
      [1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1],
      [1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1],
      [1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1],
      [1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1],
      [1,2,2,1,0,1,2,2,1,0,1,2,2,1,0,1],
      [0,1,1,0,0,0,1,1,0,0,0,1,1,0,0,0],
    ],
    // Frame 1: happy face, slight squish
    [
      [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
      [0,0,0,0,1,1,1,1,1,1,1,1,0,0,0,0],
      [0,0,1,1,2,2,2,2,2,2,2,2,1,1,0,0],
      [0,1,2,2,2,2,2,2,2,2,2,2,2,2,1,0],
      [0,1,2,5,5,2,2,2,2,5,5,2,2,2,1,0],
      [1,2,2,2,3,3,2,2,2,2,3,3,2,2,2,1],
      [1,2,2,3,2,2,2,2,2,3,2,2,2,2,2,1],
      [1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1],
      [1,2,2,2,2,4,2,2,2,4,2,2,2,2,2,1],
      [1,2,2,2,2,2,4,4,4,2,2,2,2,2,2,1],
      [1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1],
      [1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1],
      [1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1],
      [1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1],
      [1,0,1,2,2,1,0,1,2,2,1,0,1,2,2,1],
      [0,0,0,1,1,0,0,0,1,1,0,0,0,1,1,0],
    ],
  ],
  sleeping: [
    // Frame 0: eyes closed (horizontal lines)
    [
      [0,0,0,0,0,1,1,1,1,1,1,0,0,0,0,0],
      [0,0,0,1,1,2,2,2,2,2,2,1,1,0,0,0],
      [0,0,1,2,2,2,2,2,2,2,2,2,2,1,0,0],
      [0,1,2,2,2,2,2,2,2,2,2,2,2,2,1,0],
      [0,1,2,2,2,2,2,2,2,2,2,2,2,2,1,0],
      [1,2,2,3,3,3,2,2,2,3,3,3,2,2,2,1],
      [1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1],
      [1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1],
      [1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1],
      [1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1],
      [1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1],
      [1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1],
      [1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1],
      [1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1],
      [1,2,2,1,0,1,2,2,1,0,1,2,2,1,0,1],
      [0,1,1,0,0,0,1,1,0,0,0,1,1,0,0,0],
    ],
    // Frame 1: identical (sleeping barely animates)
    [
      [0,0,0,0,0,1,1,1,1,1,1,0,0,0,0,0],
      [0,0,0,1,1,2,2,2,2,2,2,1,1,0,0,0],
      [0,0,1,2,2,2,2,2,2,2,2,2,2,1,0,0],
      [0,1,2,2,2,2,2,2,2,2,2,2,2,2,1,0],
      [0,1,2,2,2,2,2,2,2,2,2,2,2,2,1,0],
      [1,2,2,3,3,3,2,2,2,3,3,3,2,2,2,1],
      [1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1],
      [1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1],
      [1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1],
      [1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1],
      [1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1],
      [1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1],
      [1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1],
      [1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1],
      [1,2,2,1,0,1,2,2,1,0,1,2,2,1,0,1],
      [0,1,1,0,0,0,1,1,0,0,0,1,1,0,0,0],
    ],
  ],
  distressed: [
    // Frame 0: worried eyes, squiggly mouth
    [
      [0,0,0,0,0,1,1,1,1,1,1,0,0,0,0,0],
      [0,0,0,1,1,2,2,2,2,2,2,1,1,0,0,0],
      [0,0,1,2,2,2,2,2,2,2,2,2,2,1,0,0],
      [0,1,2,2,2,2,2,2,2,2,2,2,2,2,1,0],
      [0,1,2,2,5,2,2,2,2,2,5,2,2,2,1,0],
      [1,2,2,3,3,2,2,2,2,3,3,2,2,2,2,1],
      [1,2,2,3,3,2,2,2,2,3,3,2,2,2,2,1],
      [1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1],
      [1,2,2,2,4,2,4,2,4,2,4,2,2,2,2,1],
      [1,2,2,2,2,4,2,4,2,4,2,2,2,2,2,1],
      [1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1],
      [1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1],
      [1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1],
      [1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1],
      [1,2,2,1,0,1,2,2,1,0,1,2,2,1,0,1],
      [0,1,1,0,0,0,1,1,0,0,0,1,1,0,0,0],
    ],
    // Frame 1: same face, shift for shake effect
    [
      [0,0,0,0,0,1,1,1,1,1,1,0,0,0,0,0],
      [0,0,0,1,1,2,2,2,2,2,2,1,1,0,0,0],
      [0,0,1,2,2,2,2,2,2,2,2,2,2,1,0,0],
      [0,1,2,2,2,2,2,2,2,2,2,2,2,2,1,0],
      [0,1,2,2,5,2,2,2,2,2,5,2,2,2,1,0],
      [1,2,2,3,3,2,2,2,2,3,3,2,2,2,2,1],
      [1,2,2,3,3,2,2,2,2,3,3,2,2,2,2,1],
      [1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1],
      [1,2,2,2,2,4,2,4,2,4,2,2,2,2,2,1],
      [1,2,2,2,4,2,4,2,4,2,4,2,2,2,2,1],
      [1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1],
      [1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1],
      [1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1],
      [1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1],
      [1,2,2,1,0,1,2,2,1,0,1,2,2,1,0,1],
      [0,1,1,0,0,0,1,1,0,0,0,1,1,0,0,0],
    ],
  ],
}

export function getGhostFrame(state: GhostState, frameIndex: number): SpriteFrame {
  const frames = GHOST_SPRITES[state]
  return frames[frameIndex % frames.length]
}

// Tombstone sprite: 16x16, pixel values: 0=transparent, 1=outline(dark), 6=stone body, 7=stone highlight, 8=stone dark
// Classic rounded-top gravestone shape
export const TOMBSTONE_SPRITE: number[][] = [
  [0,0,0,0,0,1,1,1,1,1,1,0,0,0,0,0],
  [0,0,0,1,1,7,7,7,7,7,7,1,1,0,0,0],
  [0,0,1,7,6,6,6,6,6,6,6,6,7,1,0,0],
  [0,1,6,6,6,6,6,6,6,6,6,6,6,6,1,0],
  [0,1,6,6,6,6,6,6,6,6,6,6,6,6,1,0],
  [0,1,6,6,6,6,6,6,6,6,6,6,6,6,1,0],
  [0,1,6,6,6,6,6,6,6,6,6,6,6,6,1,0],
  [0,1,6,6,6,6,6,6,6,6,6,6,6,6,1,0],
  [0,1,6,6,6,6,6,6,6,6,6,6,6,6,1,0],
  [0,1,8,6,6,6,6,6,6,6,6,6,6,8,1,0],
  [0,1,8,8,6,6,6,6,6,6,6,6,8,8,1,0],
  [0,1,8,8,6,6,6,6,6,6,6,6,8,8,1,0],
  [1,1,8,8,6,6,6,6,6,6,6,6,8,8,1,1],
  [1,8,8,8,8,8,8,8,8,8,8,8,8,8,8,1],
  [1,8,8,8,8,8,8,8,8,8,8,8,8,8,8,1],
  [1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],
]

// Cobweb sprite: 16x16, for top-left corner (flip for top-right)
// 0=transparent, 9=web thread
export const COBWEB_SPRITE: number[][] = [
  [9,9,9,9,9,9,0,0,0,0,0,0,0,0,0,0],
  [9,0,0,0,0,9,9,0,0,0,0,0,0,0,0,0],
  [9,0,0,0,0,0,9,9,0,0,0,0,0,0,0,0],
  [9,0,0,0,0,0,0,9,9,0,0,0,0,0,0,0],
  [9,0,0,0,0,0,0,0,9,0,0,0,0,0,0,0],
  [9,9,0,0,0,0,0,0,0,9,0,0,0,0,0,0],
  [0,9,9,0,0,0,0,0,0,0,9,0,0,0,0,0],
  [0,0,9,9,0,0,0,0,0,0,0,9,0,0,0,0],
  [0,0,0,9,0,0,0,0,0,0,0,0,0,0,0,0],
  [0,0,0,0,9,0,0,0,0,0,0,0,0,0,0,0],
  [0,0,0,0,0,9,0,0,0,0,0,0,0,0,0,0],
  [0,0,0,0,0,0,9,0,0,0,0,0,0,0,0,0],
  [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
  [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
  [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
  [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
]
